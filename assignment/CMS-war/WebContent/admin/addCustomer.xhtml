<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Add Customer</title>
	<h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
</h:head>
<body>

	<div class="container">
		<div class="navbar-brand">CMS - Add Customer</div>
		<div>
			<f:view>
				<h:form id="MyForm">
					<p:growl id="msgs" showDetail="true" />
					<table class="table table-bordered ">

						<tr
							class="#{!customerName.valid ? 'alert alert-warning' : 'none'}">
							<td width="200"><h:outputLabel value="Customer Name"
									for="customerName" /></td>

							<td><h:inputText id="customerName"
									value="#{addCustomerController.customer.customerName}"
									title="customerName" required="true"
									requiredMessage="Please enter the customer name"
									validatorMessage="The account length has to be greater than 4"
									pt:placeholder="Company">
									<f:validateLength minimum="4" />
								</h:inputText> <h:message for="customerName"
									class="#{!customerName.valid ? 'badge badge-warning' : 'none'}" /></td>

						</tr>

						<tr
							class="#{!customerDiscountRate.valid ? 'alert alert-warning' : 'none'}">
							<td><h:outputLabel value="Discount Rate"
									for="customerDiscountRate" /></td>
							<td><h:inputText id="customerDiscountRate"
									value="#{addCustomerController.customer.customerDiscountRate}"
									title="customerDiscountRate" required="true"
									requiredMessage="Please enter the discount rate"
									validatorMessage="The discount rate should be between 0 and 1"
									converterMessage="Please enter a valid number"
									pt:placeholder="0.2">
									<f:validateDoubleRange minimum="0.0" maximum="1.0" />

								</h:inputText> <h:message for="customerDiscountRate"
									class="#{!customerDiscountRate.valid ? 'badge badge-warning' : 'none'}" />
							</td>

						</tr>

						<tr
							class="#{!streetNumber.valid ? 'alert alert-warning' : 'none'}">
							<td><h:outputLabel value="Street Number" for="streetNumber" />
							</td>
							<td><h:inputText id="streetNumber"
									value="#{addCustomerController.customer.customerAddress.streetNumber}"
									title="streetNumber" required="true"
									requiredMessage="Please enter the street number"
									validatorMessage="Please enter a street number between 1 and 1000"
									converterMessage="Please enter a valid number"
									pt:placeholder="18">
									<!-- 									<f:convertNumber integerOnly="true"/> -->
									<f:validateLongRange minimum="1" maximum="1000" />
								</h:inputText> <h:message for="streetNumber"
									class="#{!streetNumber.valid ? 'badge badge-warning' : 'none'}" /></td>

						</tr>

						<tr
							class="#{!streetAddress.valid ? 'alert alert-warning' : 'none'}">
							<td width="200"><h:outputLabel value="Street Address"
									for="streetAddress" /></td>
							<td><h:inputText id="streetAddress"
									value="#{addCustomerController.customer.customerAddress.streetAddress}"
									title="streetAddress" required="true"
									requiredMessage="Please enter the street address!"
									pt:placeholder="Dandenong Rd">
								</h:inputText> <br /> <h:message for="streetAddress"
									class="#{!streetAddress.valid ? 'badge badge-warning' : 'none'}" /></td>
						</tr>

						<tr class="#{!suburb.valid ? 'alert alert-warning' : 'none'}">
							<td><h:outputLabel value="suburb" for="suburb" /></td>
							<td><h:inputText id="suburb"
									value="#{addCustomerController.customer.customerAddress.suburb}"
									title="suburb" required="true"
									requiredMessage="Please enter the suburb!"
									pt:placeholder="Caulfield East" /> <br /> <h:message
									for="suburb" class="#{!suburb.valid ? 'badge badge-warning' : 'none'}" /></td>

						</tr>

						<tr class="#{!state.valid ? 'alert alert-warning' : 'none'}">
							<td><h:outputLabel value="state" for="state" /></td>
							<td><h:selectOneMenu id="state"
									value="#{addCustomerController.customer.customerAddress.state}"
									title="state" required="true"
									requiredMessage="Please select the state!">
									<f:selectItem itemLabel="Select One" itemValue="" />
									<f:selectItem itemLabel="Australian Capital Territory"
										itemValue="ACT" />
									<f:selectItem itemLabel="New South Wales" itemValue="NSW" />
									<f:selectItem itemLabel="South Australia" itemValue="SA" />
									<f:selectItem itemLabel="Tasmania" itemValue="TAS" />
									<f:selectItem itemLabel="Victoria" itemValue="VIC" />
									<f:selectItem itemLabel="Western Australia" itemValue="WA" />
									<f:selectItem itemLabel="Queensland" itemValue="QLD" />
								</h:selectOneMenu> <br /> <h:message for="state"
									class="#{!state.valid ? 'badge badge-warning' : 'none'}" /></td>

						</tr>

						<tr class="#{!postcode.valid ? 'alert alert-warning' : 'none'}">
							<td><h:outputLabel value="postcode" for="postcode" /></td>
							<td><p:inputMask id="postcode" mask="9999"
									value="#{addCustomerController.customer.customerAddress.postcode}"
									title="postcode" required="true"
									requiredMessage="Please enter the postcode!"
									validatorMessage="Please enter a postcode between 0200 and 4700"
									converterMessage="Please enter a number" pt:placeholder="3145">
									<!-- <f:convertNumber integerOnly="true" /> -->
									<f:validateLongRange minimum="200" maximum="4700" />
								</p:inputMask> <br /> <h:message for="postcode"
									class="#{!postcode.valid ? 'badge badge-warning' : 'none'}" /></td>

						</tr>

						<tr
							class="#{!customerNationality.valid ? 'alert alert-warning' : 'none'}">
							<td width="200"><h:outputLabel value="Customer Nationality"
									for="customerNationality" /></td>

							<td><h:inputText id="customerNationality"
									value="#{addCustomerController.customer.customerNationality}"
									title="customerNationality" required="true"
									requiredMessage="Please enter the customer nationality"
									validatorMessage="The country name has to be greater than 3"
									pt:placeholder="China">
									<f:validateLength minimum="3" />
								</h:inputText> <h:message for="customerNationality"
									class="#{!customerNationality.valid ? 'badge badge-warning' : 'none'}" />
							</td>

						</tr>
						<tr
							class="#{!customerScale.valid ? 'alert alert-warning' : 'none'}">
							<td width="200"><h:outputLabel value="Customer Scale"
									for="customerNationality" /></td>

							<td><h:selectOneMenu id="customerScale"
									value="#{addCustomerController.customer.customerScale}"
									required="true" requiredMessage="Please select the scale">
									<f:selectItem itemLabel="Select One" itemValue="" />
									<f:selectItem itemLabel="Small" itemValue="S" />
									<f:selectItem itemLabel="Medium" itemValue="M" />
									<f:selectItem itemLabel="Large" itemValue="L" />
								</h:selectOneMenu> <h:message for="customerScale"
									class="#{!customerScale.valid ? 'badge badge-warning' : 'none'}" /></td>


						</tr>

						<tr
							class="#{!customerIndustryType.valid ? 'alert alert-warning' : 'none'}">
							<td width="200"><h:outputLabel value="Customer Industry"
									for="customerIndustryType" /></td>

							<td><p:selectOneMenu id="customerIndustryType"
									converter="industryConverter"
									value="#{addCustomerController.customer.customerIndustryType}"
									filter="true" filterMatchMode="startsWith">
									<f:selectItem itemLabel="Select One" itemValue="#{null}" />
									<f:selectItems value="#{allIndustryController.industries}"
										var="i" itemLabel="#{i}" itemValue="#{i}" />

									<f:facet name="footer">
										<p:separator />
										<h:outputText
											value="#{allIndustryController.industries.size()} industries"
											style="font-weight:bold;" />
									</f:facet>
								</p:selectOneMenu></td>

						</tr>


					</table>

					<p:commandButton id="submit" value="Submit"
						action="#{addCustomerController.addCustomer(addCustomerController.customer)}"
						class="btn btn-primary mr-1" update="MyForm">
						<p:confirm header="Confirmation" message="Are you sure?"
						icon="pi pi-exclamation-triangle" /> 
					</p:commandButton>

					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
						<p:commandButton value="Yes" type="button"
							styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
						<p:commandButton value="No" type="button"
							styleClass="ui-confirmdialog-no" icon="pi pi-times" />
					</p:confirmDialog>
					<h:link id="close" value="Close" outcome="allCustomers.xhtml"
						class="btn btn-primary" />



				</h:form>

			</f:view>
		</div>
	</div>

</body>
</html>
